<html>
<head>
<link href="../../../Objects/sofa_white.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<div id="contenu">
		
		<center><h3>Advanced Shader (7/7)</h3>
		  <br><br>
		  <img src="6_Visual.png" name="Visu_start" align="middle" width=300>
		</center>

		
		<br><div id="orangeText">Description</div><br>
		This follows the previous part on the shader, we will see now how to use it more efficiently.
		<br><div id="orangeText">Key points</div><br>
		We have seen how to call a shader, but we may need to send uniform values to the shader in order to change parameters on the fly...
		This can be done with a set of objects called <b>Ogl{Type}{Size}Variable</b>. They can handle a lot of differents formats : vectors, matrices, array of vectors in int and float types.
		(see components/visualmodel/OglVariable.h for a list of available types).
		Texture can be also given to the shader, using <b>OglTexture</b>, which has a lot of parameters available ; but the most important one is the texture unit id.
		<br>
		Another problem is that if you want to mix different effects (for example : toon shading and normal mapping).
		You can write a big shader doing a lot of things, and activate only what you have with a system of macro.
		In the shader, define a part of code (<i>#ifdef TOON_SHADING</i>) doing your treatment.This can be activated (at start !),
		placing the object <b>OglShaderDefineMacro id="TOON_SHADING"</b> (in the same node than the current <b>OglShader</b> of course).
		A quite generic shader is available directly in Sofa, located in share/shaders/generalRenderingShader.{vert/frag}.
		<br><br>
		The example described here shows perlin noise used for color and bump generation, using a lot of uniform values for parameters, plus a procedural texture needed by the algorithm.
		A Phong illumination is also used. (does not require any parameter)
	</div>
</body>
</html>
